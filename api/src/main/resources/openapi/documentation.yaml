openapi: "3.1.0"
info:
  title: "Speed Match API"
  description: "ã‚¹ãƒ”ãƒ¼ãƒ‰ãƒãƒƒãƒ - ã‚ªãƒ³ãƒ©ã‚¤ãƒ³å¯¾æˆ¦å‹ã‚«ãƒ¼ãƒ‰ã‚²ãƒ¼ãƒ API"
  version: "0.0.1"
servers:
  - url: "http://127.0.0.1:8080"
    description: "Development server"

components:
  schemas:
    # å…±é€šãƒ¬ã‚¹ãƒãƒ³ã‚¹ã‚¹ã‚­ãƒ¼ãƒ
    ApiResponse:
      type: object
      properties:
        success:
          type: boolean
          example: true
        data:
          type: object
          description: "ãƒ¬ã‚¹ãƒãƒ³ã‚¹ãƒ‡ãƒ¼ã‚¿"
        message:
          type: string
          description: "æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"

    ApiErrorResponse:
      type: object
      properties:
        success:
          type: boolean
          example: false
        error:
          $ref: "#/components/schemas/ErrorDetails"

    ErrorDetails:
      type: object
      properties:
        code:
          type: string
          description: "ã‚¨ãƒ©ãƒ¼ã‚³ãƒ¼ãƒ‰"
          example: "VALIDATION_ERROR"
        message:
          type: string
          description: "ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
          example: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸ"
        details:
          type: object
          description: "è¿½åŠ ã®ã‚¨ãƒ©ãƒ¼è©³ç´°"

    # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼é–¢é€£ã‚¹ã‚­ãƒ¼ãƒ
    PlayerCreateRequest:
      type: object
      required:
        - username
        - avatar
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 12
          pattern: "^[a-zA-Z0-9_]+$"
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆ3-12æ–‡å­—ã€è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ï¼‰"
          example: "player123"
        avatar:
          type: string
          minLength: 1
          maxLength: 1
          description: "ã‚¢ãƒã‚¿ãƒ¼ï¼ˆçµµæ–‡å­—ã¾ãŸã¯è‹±å­—1æ–‡å­—ï¼‰"
          example: "ğŸ‘¤"

    PlayerUpdateRequest:
      type: object
      properties:
        username:
          type: string
          minLength: 3
          maxLength: 12
          pattern: "^[a-zA-Z0-9_]+$"
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼åï¼ˆ3-12æ–‡å­—ã€è‹±æ•°å­—ã¨ã‚¢ãƒ³ãƒ€ãƒ¼ã‚¹ã‚³ã‚¢ã®ã¿ï¼‰"
          example: "newname"
        avatar:
          type: string
          minLength: 1
          maxLength: 1
          description: "ã‚¢ãƒã‚¿ãƒ¼ï¼ˆçµµæ–‡å­—ã¾ãŸã¯è‹±å­—1æ–‡å­—ï¼‰"
          example: "ğŸ®"

    PlayerResponse:
      type: object
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        username:
          type: string
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
          example: "player123"
        avatar:
          type: string
          description: "ã‚¢ãƒã‚¿ãƒ¼"
          example: "ğŸ‘¤"
        stats:
          $ref: "#/components/schemas/PlayerStats"
        createdAt:
          type: string
          format: date-time
          description: "ä½œæˆæ—¥æ™‚"
          example: "2025-10-11T10:00:00Z"

    PlayerStats:
      type: object
      properties:
        totalGames:
          type: integer
          description: "ç·ãƒ—ãƒ¬ã‚¤å›æ•°"
          example: 50
        wins:
          type: integer
          description: "å‹åˆ©æ•°"
          example: 25
        losses:
          type: integer
          description: "æ•—åŒ—æ•°"
          example: 25
        winRate:
          type: number
          format: float
          description: "å‹ç‡"
          example: 0.5
        fastestWin:
          type: integer
          nullable: true
          description: "æœ€é€Ÿå‹åˆ©ã‚¿ãƒ¼ãƒ³æ•°"
          example: 8
        totalCardsPlayed:
          type: integer
          description: "ç·ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æ•°"
          example: 400

    PlayerStatsResponse:
      type: object
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        stats:
          $ref: "#/components/schemas/PlayerStats"

    # ãƒãƒ¼ãƒªãƒ³ã‚°APIé–¢é€£ã‚¹ã‚­ãƒ¼ãƒï¼ˆPhase 11ï¼‰
    RoomStateResponse:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        roomCode:
          type: string
          description: "6æ¡ã®ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰"
          example: "ABC123"
        status:
          type: string
          enum: ["waiting", "playing", "finished"]
          description: "ãƒ«ãƒ¼ãƒ ã®çŠ¶æ…‹"
          example: "waiting"
        players:
          type: array
          items:
            $ref: "#/components/schemas/RoomPlayerInfo"
          description: "ãƒ«ãƒ¼ãƒ å†…ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§"
        updatedAt:
          type: string
          format: date-time
          description: "æœ€çµ‚æ›´æ–°æ™‚åˆ»"
          example: "2025-10-11T12:01:30Z"

    RoomPlayerInfo:
      type: object
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        username:
          type: string
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
          example: "player123"
        avatar:
          type: string
          description: "ã‚¢ãƒã‚¿ãƒ¼"
          example: "ğŸ‘¤"
        isReady:
          type: boolean
          description: "æº–å‚™å®Œäº†çŠ¶æ…‹"
          example: true
        isHost:
          type: boolean
          description: "ãƒ›ã‚¹ãƒˆã‹ã©ã†ã‹"
          example: true

    # ãƒãƒ£ãƒƒãƒˆé–¢é€£ã‚¹ã‚­ãƒ¼ãƒ
    ChatMessageRequest:
      type: object
      required:
        - playerId
        - message
      properties:
        playerId:
          type: string
          description: "é€ä¿¡è€…ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        message:
          type: string
          minLength: 1
          maxLength: 200
          description: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡ï¼ˆ1-200æ–‡å­—ï¼‰"
          example: "ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼"
        type:
          type: string
          enum: ["text", "emoji", "preset"]
          default: "text"
          description: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—"
          example: "text"

    ChatMessageResponse:
      type: object
      properties:
        messageId:
          type: string
          description: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ID"
          example: "12345"
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        playerId:
          type: string
          description: "é€ä¿¡è€…ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        username:
          type: string
          description: "é€ä¿¡è€…ã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
          example: "player123"
        avatar:
          type: string
          description: "é€ä¿¡è€…ã®ã‚¢ãƒã‚¿ãƒ¼"
          example: "ğŸ‘¤"
        message:
          type: string
          description: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸æœ¬æ–‡"
          example: "ã‚ˆã‚ã—ããŠé¡˜ã„ã—ã¾ã™ï¼"
        type:
          type: string
          enum: ["text", "emoji", "preset"]
          description: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚¿ã‚¤ãƒ—"
          example: "text"
        createdAt:
          type: string
          format: date-time
          description: "é€ä¿¡æ—¥æ™‚"
          example: "2025-10-11T12:05:00Z"

    ChatMessagesResponse:
      type: object
      properties:
        messages:
          type: array
          items:
            $ref: "#/components/schemas/ChatMessageResponse"
          description: "ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ä¸€è¦§"
        hasMore:
          type: boolean
          description: "ã•ã‚‰ã«ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ãŒå­˜åœ¨ã™ã‚‹ã‹"
          example: false

    # Phase 14 ã‚²ãƒ¼ãƒ APIé–¢é€£ã‚¹ã‚­ãƒ¼ãƒ
    CreateGameRequest:
      type: object
      required:
        - roomId
        - playerIds
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        playerIds:
          type: array
          items:
            type: string
          minItems: 2
          maxItems: 4
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼IDãƒªã‚¹ãƒˆï¼ˆ2-4äººï¼‰"
          example: ["pl_test_001", "pl_test_002"]

    CreateGameResponse:
      type: object
      properties:
        gameId:
          type: string
          description: "ä½œæˆã•ã‚ŒãŸã‚²ãƒ¼ãƒ ID"
          example: "game_1234567890"
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        status:
          type: string
          description: "ã‚²ãƒ¼ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
          example: "PLAYING"
        message:
          type: string
          description: "æˆåŠŸãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
          example: "ã‚²ãƒ¼ãƒ ãŒä½œæˆã•ã‚Œã¾ã—ãŸ"

    CardDTO:
      type: object
      required:
        - suit
        - rank
      properties:
        suit:
          type: string
          enum: ["SPADES", "HEARTS", "DIAMONDS", "CLUBS"]
          description: "ã‚«ãƒ¼ãƒ‰ã®ã‚¹ãƒ¼ãƒˆ"
          example: "SPADES"
        rank:
          type: integer
          minimum: 1
          maximum: 13
          description: "ã‚«ãƒ¼ãƒ‰ã®ãƒ©ãƒ³ã‚¯ï¼ˆ1=A, 11=J, 12=Q, 13=Kï¼‰"
          example: 5

    PlayerStateDTO:
      type: object
      required:
        - playerId
        - handSize
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_test_001"
        handSize:
          type: integer
          description: "æ‰‹æœ­ã®æšæ•°"
          example: 7
        hand:
          type: array
          items:
            $ref: "#/components/schemas/CardDTO"
          description: "æ‰‹æœ­ï¼ˆè‡ªåˆ†ã®ã¿è¡¨ç¤ºï¼‰"
          nullable: true
        rank:
          type: integer
          description: "ãƒ©ãƒ³ã‚¯ï¼ˆã‚²ãƒ¼ãƒ çµ‚äº†æ™‚ï¼‰"
          nullable: true
          example: 1

    GameStateResponse:
      type: object
      properties:
        gameId:
          type: string
          description: "ã‚²ãƒ¼ãƒ ID"
          example: "game_1234567890"
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        players:
          type: array
          items:
            $ref: "#/components/schemas/PlayerStateDTO"
          description: "ã‚²ãƒ¼ãƒ å†…ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§"
        fieldCards:
          type: object
          properties:
            first:
              $ref: "#/components/schemas/CardDTO"
            second:
              $ref: "#/components/schemas/CardDTO"
          description: "å ´æœ­ï¼ˆ2æšï¼‰"
        currentPlayerId:
          type: string
          description: "ç¾åœ¨ã®ã‚¿ãƒ¼ãƒ³ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_test_001"
        currentPlayerIndex:
          type: integer
          description: "ç¾åœ¨ã®ã‚¿ãƒ¼ãƒ³ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹"
          example: 0
        deckRemaining:
          type: integer
          description: "å±±æœ­ã®æ®‹ã‚Šæšæ•°"
          example: 36
        status:
          type: string
          enum: ["PLAYING", "FINISHED", "ABORTED"]
          description: "ã‚²ãƒ¼ãƒ ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹"
          example: "PLAYING"
        playableCards:
          type: array
          items:
            $ref: "#/components/schemas/CardDTO"
          description: "ãƒ—ãƒ¬ã‚¤å¯èƒ½ãªã‚«ãƒ¼ãƒ‰ï¼ˆè‡ªåˆ†ã®ã‚¿ãƒ¼ãƒ³ã®å ´åˆã®ã¿ï¼‰"
          nullable: true
        startedAt:
          type: integer
          format: int64
          description: "ã‚²ãƒ¼ãƒ é–‹å§‹æ™‚åˆ»ï¼ˆUnix timestampï¼‰"
          example: 1729769400000
        lastUpdatedAt:
          type: integer
          format: int64
          description: "æœ€çµ‚æ›´æ–°æ™‚åˆ»ï¼ˆUnix timestampï¼‰"
          example: 1729769450000

    PlayCardRequest:
      type: object
      required:
        - playerId
        - card
        - targetField
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_test_001"
        card:
          $ref: "#/components/schemas/CardDTO"
        targetField:
          type: integer
          enum: [0, 1]
          description: "ã©ã¡ã‚‰ã®å ´æœ­ã«å‡ºã™ã‹ï¼ˆ0 or 1ï¼‰"
          example: 0

    DrawCardRequest:
      type: object
      required:
        - playerId
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_test_001"

    SkipTurnRequest:
      type: object
      required:
        - playerId
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_test_001"

    GameActionResponse:
      type: object
      properties:
        success:
          type: boolean
          description: "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³æˆåŠŸ"
          example: true
        message:
          type: string
          description: "ã‚¢ã‚¯ã‚·ãƒ§ãƒ³ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸"
          example: "ã‚«ãƒ¼ãƒ‰ã‚’ãƒ—ãƒ¬ã‚¤ã—ã¾ã—ãŸ"
        gameState:
          $ref: "#/components/schemas/GameStateResponse"
          nullable: true

    # æ—§GameStateResponseï¼ˆäº’æ›æ€§ã®ãŸã‚æ®‹ã™ï¼‰
    OldGameStateResponse:
      type: object
      properties:
        gameId:
          type: string
          description: "ã‚²ãƒ¼ãƒ ID"
          example: "gm_xyz789"
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        status:
          type: string
          enum: ["playing", "finished"]
          description: "ã‚²ãƒ¼ãƒ ã®çŠ¶æ…‹"
          example: "playing"
        players:
          type: array
          items:
            $ref: "#/components/schemas/GamePlayerInfo"
          description: "ã‚²ãƒ¼ãƒ å†…ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§"
        fieldCards:
          type: array
          items:
            $ref: "#/components/schemas/CardInfo"
          description: "å ´ã«å‡ºã¦ã„ã‚‹ã‚«ãƒ¼ãƒ‰"
        updatedAt:
          type: string
          format: date-time
          description: "æœ€çµ‚æ›´æ–°æ™‚åˆ»"
          example: "2025-10-11T12:16:00Z"

    GamePlayerInfo:
      type: object
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        username:
          type: string
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
          example: "player123"
        avatar:
          type: string
          description: "ã‚¢ãƒã‚¿ãƒ¼"
          example: "ğŸ‘¤"
        handSize:
          type: integer
          description: "æ‰‹æœ­ã®æšæ•°"
          example: 4
        isCurrentTurn:
          type: boolean
          description: "ç¾åœ¨ã®ã‚¿ãƒ¼ãƒ³ã‹ã©ã†ã‹"
          example: false

    CardInfo:
      type: object
      properties:
        cardId:
          type: string
          description: "ã‚«ãƒ¼ãƒ‰ID"
          example: "c_010"
        value:
          type: integer
          description: "ã‚«ãƒ¼ãƒ‰ã®å€¤"
          example: 6

    # ãƒ«ãƒ¼ãƒ é–¢é€£ã‚¹ã‚­ãƒ¼ãƒ
    RoomCreateRequest:
      type: object
      properties:
        roomName:
          type: string
          maxLength: 50
          description: "ãƒ«ãƒ¼ãƒ åï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰"
          example: "æ¥½ã—ã„ã‚²ãƒ¼ãƒ éƒ¨å±‹"
        maxPlayers:
          type: integer
          minimum: 2
          maximum: 4
          default: 4
          description: "æœ€å¤§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 4
        initialHandSize:
          type: integer
          minimum: 5
          maximum: 10
          default: 7
          description: "åˆæœŸæ‰‹æœ­æšæ•°"
          example: 7
        turnTimeLimit:
          type: integer
          minimum: 30
          maximum: 300
          default: 60
          description: "ã‚¿ãƒ¼ãƒ³æ™‚é–“åˆ¶é™ï¼ˆç§’ï¼‰"
          example: 60
        isPublic:
          type: boolean
          default: true
          description: "å…¬é–‹ãƒ«ãƒ¼ãƒ ã‹ã©ã†ã‹"
          example: true

    RoomJoinRequest:
      type: object
      required:
        - playerId
      properties:
        playerId:
          type: string
          description: "å‚åŠ ã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ID"
          example: "pl_1234567890"

    RoomLeaveRequest:
      type: object
      required:
        - playerId
      properties:
        playerId:
          type: string
          description: "é€€å‡ºã™ã‚‹ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ID"
          example: "pl_1234567890"

    RoomReadyRequest:
      type: object
      required:
        - playerId
        - isReady
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ID"
          example: "pl_1234567890"
        isReady:
          type: boolean
          description: "æº–å‚™å®Œäº†çŠ¶æ…‹"
          example: true

    RoomStartRequest:
      type: object
      required:
        - hostId
      properties:
        hostId:
          type: string
          description: "ãƒ›ã‚¹ãƒˆã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"

    RoomResponse:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        roomCode:
          type: string
          description: "6æ¡ã®ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰"
          example: "ABC123"
        roomName:
          type: string
          nullable: true
          description: "ãƒ«ãƒ¼ãƒ å"
          example: "æ¥½ã—ã„ã‚²ãƒ¼ãƒ éƒ¨å±‹"
        hostId:
          type: string
          description: "ãƒ›ã‚¹ãƒˆã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
          example: "pl_1234567890"
        maxPlayers:
          type: integer
          description: "æœ€å¤§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 4
        currentPlayers:
          type: integer
          description: "ç¾åœ¨ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 2
        initialHandSize:
          type: integer
          description: "åˆæœŸæ‰‹æœ­æšæ•°"
          example: 7
        turnTimeLimit:
          type: integer
          description: "ã‚¿ãƒ¼ãƒ³æ™‚é–“åˆ¶é™ï¼ˆç§’ï¼‰"
          example: 60
        isPublic:
          type: boolean
          description: "å…¬é–‹ãƒ«ãƒ¼ãƒ ã‹ã©ã†ã‹"
          example: true
        status:
          type: string
          enum: ["waiting", "playing", "finished"]
          description: "ãƒ«ãƒ¼ãƒ ã®çŠ¶æ…‹"
          example: "waiting"
        players:
          type: array
          items:
            $ref: "#/components/schemas/RoomPlayerInfo"
          description: "ãƒ«ãƒ¼ãƒ å†…ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ä¸€è¦§"
        createdAt:
          type: string
          format: date-time
          description: "ä½œæˆæ—¥æ™‚"
          example: "2025-10-11T10:00:00Z"

    RoomListItem:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        roomCode:
          type: string
          description: "6æ¡ã®ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰"
          example: "ABC123"
        roomName:
          type: string
          nullable: true
          description: "ãƒ«ãƒ¼ãƒ å"
          example: "æ¥½ã—ã„ã‚²ãƒ¼ãƒ éƒ¨å±‹"
        hostUsername:
          type: string
          description: "ãƒ›ã‚¹ãƒˆã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å"
          example: "hostplayer"
        currentPlayers:
          type: integer
          description: "ç¾åœ¨ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 2
        maxPlayers:
          type: integer
          description: "æœ€å¤§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 4
        initialHandSize:
          type: integer
          description: "åˆæœŸæ‰‹æœ­æšæ•°"
          example: 7
        turnTimeLimit:
          type: integer
          description: "ã‚¿ãƒ¼ãƒ³æ™‚é–“åˆ¶é™ï¼ˆç§’ï¼‰"
          example: 60
        status:
          type: string
          enum: ["waiting", "playing", "finished"]
          description: "ãƒ«ãƒ¼ãƒ ã®çŠ¶æ…‹"
          example: "waiting"
        createdAt:
          type: string
          format: date-time
          description: "ä½œæˆæ—¥æ™‚"
          example: "2025-10-11T10:00:00Z"

    RoomListResponse:
      type: object
      properties:
        rooms:
          type: array
          items:
            $ref: "#/components/schemas/RoomListItem"
          description: "ãƒ«ãƒ¼ãƒ ä¸€è¦§"
        pagination:
          $ref: "#/components/schemas/PaginationInfo"

    RoomCodeResponse:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        roomCode:
          type: string
          description: "6æ¡ã®ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰"
          example: "ABC123"
        roomName:
          type: string
          nullable: true
          description: "ãƒ«ãƒ¼ãƒ å"
          example: "æ¥½ã—ã„ã‚²ãƒ¼ãƒ éƒ¨å±‹"
        currentPlayers:
          type: integer
          description: "ç¾åœ¨ã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 2
        maxPlayers:
          type: integer
          description: "æœ€å¤§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°"
          example: 4
        status:
          type: string
          enum: ["waiting", "playing", "finished"]
          description: "ãƒ«ãƒ¼ãƒ ã®çŠ¶æ…‹"
          example: "waiting"

    RoomJoinResponse:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        playerId:
          type: string
          description: "å‚åŠ ã—ãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ID"
          example: "pl_1234567890"
        joinedAt:
          type: string
          format: date-time
          description: "å‚åŠ æ—¥æ™‚"
          example: "2025-10-11T10:05:00Z"

    RoomLeaveResponse:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        playerId:
          type: string
          description: "é€€å‡ºã—ãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ID"
          example: "pl_1234567890"
        leftAt:
          type: string
          format: date-time
          description: "é€€å‡ºæ—¥æ™‚"
          example: "2025-10-11T10:10:00Z"

    RoomReadyResponse:
      type: object
      properties:
        playerId:
          type: string
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®ID"
          example: "pl_1234567890"
        isReady:
          type: boolean
          description: "æº–å‚™å®Œäº†çŠ¶æ…‹"
          example: true

    RoomStartResponse:
      type: object
      properties:
        roomId:
          type: string
          description: "ãƒ«ãƒ¼ãƒ ID"
          example: "rm_abc123"
        gameId:
          type: string
          description: "ä½œæˆã•ã‚ŒãŸã‚²ãƒ¼ãƒ ID"
          example: "gm_xyz789"
        status:
          type: string
          enum: ["playing"]
          description: "ã‚²ãƒ¼ãƒ ã®çŠ¶æ…‹"
          example: "playing"
        startedAt:
          type: string
          format: date-time
          description: "ã‚²ãƒ¼ãƒ é–‹å§‹æ—¥æ™‚"
          example: "2025-10-11T10:15:00Z"

    PaginationInfo:
      type: object
      properties:
        page:
          type: integer
          description: "ç¾åœ¨ã®ãƒšãƒ¼ã‚¸ç•ªå·"
          example: 1
        limit:
          type: integer
          description: "1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°"
          example: 20
        total:
          type: integer
          description: "ç·ä»¶æ•°"
          example: 45
        totalPages:
          type: integer
          description: "ç·ãƒšãƒ¼ã‚¸æ•°"
          example: 3

paths:
  /:
    get:
      summary: "Hello World"
      description: "ã‚·ãƒ³ãƒ—ãƒ«ãªHello Worldã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ"
      responses:
        "200":
          description: "æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹"
          content:
            text/plain:
              schema:
                type: "string"
                example: "Hello World!"

  /health:
    get:
      summary: "Health Check"
      description: "ã‚µãƒ¼ãƒãƒ¼ã®ç¨¼åƒçŠ¶æ…‹ã‚’ç¢ºèªã™ã‚‹ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯ã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ"
      responses:
        "200":
          description: "ã‚µãƒ¼ãƒãƒ¼ãŒæ­£å¸¸ã«ç¨¼åƒä¸­"
          content:
            application/json:
              schema:
                type: "object"
                properties:
                  status:
                    type: "string"
                    example: "OK"
                  timestamp:
                    type: "string"
                    format: "date-time"
                    example: "2025-10-16T14:59:55.459Z"

  /api/v1/hello:
    get:
      summary: "API v1 Hello"
      description: "API v1ã®Helloã‚¨ãƒ³ãƒ‰ãƒã‚¤ãƒ³ãƒˆ"
      responses:
        "200":
          description: "æˆåŠŸãƒ¬ã‚¹ãƒãƒ³ã‚¹"
          content:
            text/plain:
              schema:
                type: "string"
                example: "Hello from API v1!"

  # ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç®¡ç†API
  /api/players:
    post:
      summary: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ç™»éŒ²"
      description: "æ–°è¦ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã‚’ç™»éŒ²ã—ã¾ã™"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlayerCreateRequest"
      responses:
        "201":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/PlayerResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "409":
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/players/{playerId}:
    parameters:
      - name: playerId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
        example: "pl_1234567890"

    get:
      summary: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±å–å¾—"
      description: "æŒ‡å®šã•ã‚ŒãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æƒ…å ±ã‚’å–å¾—ã—ã¾ã™"
      responses:
        "200":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/PlayerResponse"
        "404":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

    put:
      summary: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±æ›´æ–°"
      description: "æŒ‡å®šã•ã‚ŒãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æƒ…å ±ã‚’æ›´æ–°ã—ã¾ã™"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlayerUpdateRequest"
      responses:
        "200":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æƒ…å ±ãŒæ­£å¸¸ã«æ›´æ–°ã•ã‚Œã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/PlayerResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "409":
          description: "ãƒ¦ãƒ¼ã‚¶ãƒ¼åãŒæ—¢ã«å­˜åœ¨ã—ã¾ã™"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/players/{playerId}/stats:
    parameters:
      - name: playerId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ID"
        example: "pl_1234567890"

    get:
      summary: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆå–å¾—"
      description: "æŒ‡å®šã•ã‚ŒãŸãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®è©³ç´°çµ±è¨ˆã‚’å–å¾—ã—ã¾ã™"
      responses:
        "200":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼çµ±è¨ˆæƒ…å ±"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/PlayerStatsResponse"
        "404":
          description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  # ãƒãƒ¼ãƒªãƒ³ã‚°APIï¼ˆPhase 11ï¼‰
  /api/rooms/code/{roomCode}/state:
    parameters:
      - name: roomCode
        in: path
        required: true
        schema:
          type: string
          minLength: 6
          maxLength: 6
          pattern: "^[A-Z0-9]+$"
        description: "6æ¡ã®ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰"
        example: "ABC123"

    get:
      summary: "ãƒ«ãƒ¼ãƒ çŠ¶æ…‹å–å¾—ï¼ˆãƒãƒ¼ãƒªãƒ³ã‚°ç”¨ï¼‰"
      description: "ãƒ«ãƒ¼ãƒ ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’å–å¾—ã—ã¾ã™ã€‚If-Modified-Sinceãƒ˜ãƒƒãƒ€ãƒ¼ã‚’ä½¿ç”¨ã—ã¦åŠ¹ç‡çš„ãªãƒãƒ¼ãƒªãƒ³ã‚°ã‚’å®Ÿç¾ã—ã¾ã™ã€‚"
      parameters:
        - name: If-Modified-Since
          in: header
          required: false
          schema:
            type: string
            format: date-time
          description: "å‰å›å–å¾—æ™‚ã®Last-Modifiedå€¤"
      responses:
        "200":
          description: "ãƒ«ãƒ¼ãƒ çŠ¶æ…‹æƒ…å ±"
          headers:
            Last-Modified:
              description: "ãƒ«ãƒ¼ãƒ ã®æœ€çµ‚æ›´æ–°æ™‚åˆ»"
              schema:
                type: string
                format: date-time
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomStateResponse"
        "304":
          description: "å¤‰æ›´ãªã—ï¼ˆNot Modifiedï¼‰"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  # Phase 14 ã‚²ãƒ¼ãƒ API
  /api/v1/games:
    post:
      summary: "ã‚²ãƒ¼ãƒ ä½œæˆ"
      description: "æ–°ã—ã„ã‚²ãƒ¼ãƒ ã‚’ä½œæˆã—ã€åˆæœŸçŠ¶æ…‹ã‚’è¨­å®šã—ã¾ã™ã€‚ãƒ‡ãƒƒã‚­ã‚’ã‚·ãƒ£ãƒƒãƒ•ãƒ«ã—ã€å„ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã«7æšãšã¤é…ã‚Šã€å ´æœ­ã‚’2æšè¨­å®šã—ã¾ã™ã€‚"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/CreateGameRequest"
      responses:
        "201":
          description: "ã‚²ãƒ¼ãƒ ä½œæˆæˆåŠŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/CreateGameResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/v1/games/{gameId}/state:
    parameters:
      - name: gameId
        in: path
        required: true
        schema:
          type: string
        description: "ã‚²ãƒ¼ãƒ ID"
        example: "game_1234567890"
      - name: playerId
        in: query
        required: false
        schema:
          type: string
        description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼IDï¼ˆæŒ‡å®šã™ã‚‹ã¨è‡ªåˆ†ã®æ‰‹æœ­ãŒè¡¨ç¤ºã•ã‚Œã‚‹ï¼‰"
        example: "pl_test_001"

    get:
      summary: "ã‚²ãƒ¼ãƒ çŠ¶æ…‹å–å¾—"
      description: "ã‚²ãƒ¼ãƒ ã®ç¾åœ¨ã®çŠ¶æ…‹ã‚’å–å¾—ã—ã¾ã™ã€‚playerIdã‚’æŒ‡å®šã™ã‚‹ã¨ã€ãã®ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æ‰‹æœ­ã¨ãƒ—ãƒ¬ã‚¤å¯èƒ½ã‚«ãƒ¼ãƒ‰ãŒå«ã¾ã‚Œã¾ã™ã€‚"
      responses:
        "200":
          description: "ã‚²ãƒ¼ãƒ çŠ¶æ…‹æƒ…å ±"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/GameStateResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ã‚²ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/v1/games/{gameId}/actions/play:
    parameters:
      - name: gameId
        in: path
        required: true
        schema:
          type: string
        description: "ã‚²ãƒ¼ãƒ ID"
        example: "game_1234567890"

    post:
      summary: "ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤"
      description: "ã‚«ãƒ¼ãƒ‰ã‚’å ´ã«å‡ºã—ã¾ã™ã€‚åŒã˜ã‚¹ãƒ¼ãƒˆã¾ãŸã¯ãƒ©ãƒ³ã‚¯Â±1ã®ã‚«ãƒ¼ãƒ‰ã®ã¿ãƒ—ãƒ¬ã‚¤å¯èƒ½ã§ã™ã€‚"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/PlayCardRequest"
      responses:
        "200":
          description: "ã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤æˆåŠŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/GameActionResponse"
        "400":
          description: "ä¸æ­£ãªã‚«ãƒ¼ãƒ‰ãƒ—ãƒ¬ã‚¤"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      success:
                        type: boolean
                        example: false
                      data:
                        $ref: "#/components/schemas/GameActionResponse"

  /api/v1/games/{gameId}/actions/draw:
    parameters:
      - name: gameId
        in: path
        required: true
        schema:
          type: string
        description: "ã‚²ãƒ¼ãƒ ID"
        example: "game_1234567890"

    post:
      summary: "ã‚«ãƒ¼ãƒ‰ãƒ‰ãƒ­ãƒ¼"
      description: "å±±æœ­ã‹ã‚‰ã‚«ãƒ¼ãƒ‰ã‚’1æšå¼•ãã¾ã™ã€‚ãƒ—ãƒ¬ã‚¤å¯èƒ½ãªã‚«ãƒ¼ãƒ‰ãŒãªã„å ´åˆã®ã¿å®Ÿè¡Œã§ãã¾ã™ã€‚"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/DrawCardRequest"
      responses:
        "200":
          description: "ã‚«ãƒ¼ãƒ‰ãƒ‰ãƒ­ãƒ¼æˆåŠŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/GameActionResponse"
        "400":
          description: "ã‚«ãƒ¼ãƒ‰ã‚’å¼•ã‘ã¾ã›ã‚“"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      success:
                        type: boolean
                        example: false
                      data:
                        $ref: "#/components/schemas/GameActionResponse"

  /api/v1/games/{gameId}/actions/skip:
    parameters:
      - name: gameId
        in: path
        required: true
        schema:
          type: string
        description: "ã‚²ãƒ¼ãƒ ID"
        example: "game_1234567890"

    post:
      summary: "ã‚¿ãƒ¼ãƒ³ã‚¹ã‚­ãƒƒãƒ—"
      description: "ã‚¿ãƒ¼ãƒ³ã‚’ã‚¹ã‚­ãƒƒãƒ—ã—ã¾ã™ã€‚å±±æœ­ãŒç©ºã§ãƒ—ãƒ¬ã‚¤å¯èƒ½ãªã‚«ãƒ¼ãƒ‰ãŒãªã„å ´åˆã®ã¿å®Ÿè¡Œã§ãã¾ã™ã€‚"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/SkipTurnRequest"
      responses:
        "200":
          description: "ã‚¿ãƒ¼ãƒ³ã‚¹ã‚­ãƒƒãƒ—æˆåŠŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/GameActionResponse"
        "400":
          description: "ã‚¿ãƒ¼ãƒ³ã‚’ã‚¹ã‚­ãƒƒãƒ—ã§ãã¾ã›ã‚“"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      success:
                        type: boolean
                        example: false
                      data:
                        $ref: "#/components/schemas/GameActionResponse"

  # ãƒãƒ£ãƒƒãƒˆAPI
  /api/rooms/{roomId}/chat:
    parameters:
      - name: roomId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ«ãƒ¼ãƒ ID"
        example: "rm_abc123"

    post:
      summary: "ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡"
      description: "ãƒ«ãƒ¼ãƒ å†…ã«ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’é€ä¿¡ã—ã¾ã™ã€‚"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/ChatMessageRequest"
      responses:
        "201":
          description: "ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸é€ä¿¡æˆåŠŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/ChatMessageResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ã¾ãŸã¯ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

    get:
      summary: "ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´å–å¾—"
      description: "ãƒ«ãƒ¼ãƒ ã®ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´ã‚’å–å¾—ã—ã¾ã™ã€‚ãƒšãƒ¼ã‚¸ãƒãƒ¼ã‚·ãƒ§ãƒ³ã«å¯¾å¿œã—ã¦ã„ã¾ã™ã€‚"
      parameters:
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            default: 20
            minimum: 1
            maximum: 100
          description: "å–å¾—ä»¶æ•°ï¼ˆãƒ‡ãƒ•ã‚©ãƒ«ãƒˆ: 20ã€æœ€å¤§: 100ï¼‰"
        - name: before
          in: query
          required: false
          schema:
            type: string
            format: date-time
          description: "ã“ã®æ—¥æ™‚ã‚ˆã‚Šå‰ã®ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‚’å–å¾—ï¼ˆISO 8601å½¢å¼ï¼‰"
          example: "2025-10-11T12:00:00Z"
      responses:
        "200":
          description: "ãƒãƒ£ãƒƒãƒˆãƒ¡ãƒƒã‚»ãƒ¼ã‚¸å±¥æ­´"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/ChatMessagesResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  # ãƒ«ãƒ¼ãƒ ç®¡ç†API
  /api/rooms:

    post:
      summary: "ãƒ«ãƒ¼ãƒ ä½œæˆ"
      description: "æ–°ã—ã„ã‚²ãƒ¼ãƒ ãƒ«ãƒ¼ãƒ ã‚’ä½œæˆã—ã¾ã™"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RoomCreateRequest"
      responses:
        "201":
          description: "ãƒ«ãƒ¼ãƒ ãŒæ­£å¸¸ã«ä½œæˆã•ã‚Œã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

    get:
      summary: "ãƒ«ãƒ¼ãƒ ä¸€è¦§å–å¾—"
      description: "å…¬é–‹ãƒ«ãƒ¼ãƒ ã®ä¸€è¦§ã‚’å–å¾—ã—ã¾ã™"
      parameters:
        - name: status
          in: query
          required: false
          schema:
            type: string
            enum: ["waiting", "playing", "finished"]
          description: "ãƒ«ãƒ¼ãƒ ã®çŠ¶æ…‹ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°"
        - name: maxPlayers
          in: query
          required: false
          schema:
            type: integer
            minimum: 2
            maximum: 4
          description: "æœ€å¤§ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼æ•°ã§ãƒ•ã‚£ãƒ«ã‚¿ãƒªãƒ³ã‚°"
        - name: page
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
            default: 1
          description: "ãƒšãƒ¼ã‚¸ç•ªå·"
        - name: limit
          in: query
          required: false
          schema:
            type: integer
            minimum: 1
            maximum: 100
            default: 20
          description: "1ãƒšãƒ¼ã‚¸ã‚ãŸã‚Šã®ä»¶æ•°"
      responses:
        "200":
          description: "ãƒ«ãƒ¼ãƒ ä¸€è¦§"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomListResponse"

  /api/rooms/{roomId}:
    parameters:
      - name: roomId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ«ãƒ¼ãƒ ID"
        example: "rm_abc123"

    get:
      summary: "ãƒ«ãƒ¼ãƒ è©³ç´°å–å¾—"
      description: "æŒ‡å®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ ã®è©³ç´°æƒ…å ±ã‚’å–å¾—ã—ã¾ã™"
      responses:
        "200":
          description: "ãƒ«ãƒ¼ãƒ è©³ç´°æƒ…å ±"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/rooms/{roomId}/join:
    parameters:
      - name: roomId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ«ãƒ¼ãƒ ID"
        example: "rm_abc123"

    post:
      summary: "ãƒ«ãƒ¼ãƒ å‚åŠ "
      description: "æŒ‡å®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ ã«å‚åŠ ã—ã¾ã™"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RoomJoinRequest"
      responses:
        "200":
          description: "ãƒ«ãƒ¼ãƒ ã«å‚åŠ ã—ã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomJoinResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã¾ãŸã¯ãƒ«ãƒ¼ãƒ ãŒæº€å“¡"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ã¾ãŸã¯ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/rooms/{roomId}/leave:
    parameters:
      - name: roomId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ«ãƒ¼ãƒ ID"
        example: "rm_abc123"

    post:
      summary: "ãƒ«ãƒ¼ãƒ é€€å‡º"
      description: "æŒ‡å®šã•ã‚ŒãŸãƒ«ãƒ¼ãƒ ã‹ã‚‰é€€å‡ºã—ã¾ã™"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RoomLeaveRequest"
      responses:
        "200":
          description: "ãƒ«ãƒ¼ãƒ ã‹ã‚‰é€€å‡ºã—ã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomLeaveResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/rooms/{roomId}/ready:
    parameters:
      - name: roomId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ«ãƒ¼ãƒ ID"
        example: "rm_abc123"

    post:
      summary: "æº–å‚™å®Œäº†è¨­å®š"
      description: "ãƒ—ãƒ¬ã‚¤ãƒ¤ãƒ¼ã®æº–å‚™å®Œäº†çŠ¶æ…‹ã‚’è¨­å®šã—ã¾ã™"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RoomReadyRequest"
      responses:
        "200":
          description: "æº–å‚™çŠ¶æ…‹ãŒæ›´æ–°ã•ã‚Œã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomReadyResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/rooms/{roomId}/start:
    parameters:
      - name: roomId
        in: path
        required: true
        schema:
          type: string
        description: "ãƒ«ãƒ¼ãƒ ID"
        example: "rm_abc123"

    post:
      summary: "ã‚²ãƒ¼ãƒ é–‹å§‹"
      description: "ãƒ«ãƒ¼ãƒ å†…ã®ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã—ã¾ã™ï¼ˆãƒ›ã‚¹ãƒˆã®ã¿ï¼‰"
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: "#/components/schemas/RoomStartRequest"
      responses:
        "200":
          description: "ã‚²ãƒ¼ãƒ ã‚’é–‹å§‹ã—ã¾ã—ãŸ"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomStartResponse"
        "400":
          description: "ãƒãƒªãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³ã‚¨ãƒ©ãƒ¼ã¾ãŸã¯é–‹å§‹æ¡ä»¶ã‚’æº€ãŸã—ã¦ã„ãªã„"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"

  /api/rooms/code/{roomCode}:
    parameters:
      - name: roomCode
        in: path
        required: true
        schema:
          type: string
          minLength: 6
          maxLength: 6
          pattern: "^[A-Z0-9]+$"
        description: "6æ¡ã®ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰"
        example: "ABC123"

    get:
      summary: "ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰ã§ãƒ«ãƒ¼ãƒ å–å¾—"
      description: "ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰ã‚’ä½¿ç”¨ã—ã¦ãƒ«ãƒ¼ãƒ æƒ…å ±ã‚’å–å¾—ã—ã¾ã™"
      responses:
        "200":
          description: "ãƒ«ãƒ¼ãƒ æƒ…å ±"
          content:
            application/json:
              schema:
                allOf:
                  - $ref: "#/components/schemas/ApiResponse"
                  - type: object
                    properties:
                      data:
                        $ref: "#/components/schemas/RoomCodeResponse"
        "404":
          description: "ãƒ«ãƒ¼ãƒ ã‚³ãƒ¼ãƒ‰ãŒç„¡åŠ¹ã§ã™"
          content:
            application/json:
              schema:
                $ref: "#/components/schemas/ApiErrorResponse"