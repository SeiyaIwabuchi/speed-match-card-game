version: 0.0
os: linux
files:
  # デプロイスクリプト
  - source: deploy-scripts
    destination: /home/ec2-user/speedmatch/
  # Docker Compose設定
  - source: container
    destination: /home/ec2-user/speedmatch/
  # appspec.yml自体
  - source: appspec-api.yml
    destination: /home/ec2-user/speedmatch/
  # ビルド済みJAR
  - source: 'api'
    destination: /home/ec2-user/speedmatch/
hooks:
  ApplicationStop:
    - location: deploy-scripts/stop_application.sh
      timeout: 300
      runas: ec2-user
  ApplicationStart:
    - location: deploy-scripts/start_application.sh
      timeout: 300
      runas: ec2-user